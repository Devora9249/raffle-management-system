<!-- <p-button
  label="הוספת מוצר"
  (onClick)="open()">
</p-button>

<p-dialog
  header="הוספת מוצר"
  [(visible)]="showDialog"
  [modal]="true"
  [closable]="true"
  [draggable]="false"
  [resizable]="false"
  [style]="{ width: '400px' }">

    <form [formGroup]="form" (ngSubmit)="save()" class="add-product-form">

  <label>
    מחיר *
    <input type="number" formControlName="price" />
  </label>

  <div class="error" *ngIf="form.get('price')?.touched && form.get('price')?.invalid">
    <span *ngIf="form.get('price')?.errors?.['required']">חובה להזין מחיר</span>
    <span *ngIf="form.get('price')?.errors?.['min']">המחיר חייב להיות גדול מ-0</span>
  </div>

  <label>
    תיאור
    <textarea formControlName="description"></textarea>
  </label>

  <label>
    תמונה *
    <input type="file" accept="image/*" (change)="onFileChange($event)" />
  </label>

  <div class="error" *ngIf="form.get('image')?.touched && form.get('image')?.invalid">
    חובה לבחור תמונה
  </div>

  <div class="preview" *ngIf="previewUrl">
    <p>תצוגה מקדימה:</p>
    <img [src]="previewUrl" alt="preview" width="200" />
  </div>





  <ng-template pTemplate="footer">
    <p-button
      label="סגור"
      severity="secondary"
      (onClick)="close()">
    </p-button>
      <div class="actions">
    <p-button type="submit" [disabled]="form.invalid">שמור מוצר</p-button>
    <p-button type="button" (click)="resetForm()">נקה</p-button>
  </div>
  </ng-template>
  </form>


</p-dialog> -->

<!-- כפתור פתיחת הדיאלוג -->
<p-button
  label="הוספת מתנה"
  icon="pi pi-plus"
  (onClick)="open()">
</p-button>

<!-- דיאלוג -->
<p-dialog
  header="הוספת מתנה"
  [(visible)]="showDialog"
  [modal]="true"
  [closable]="true"
  [style]="{ width: '420px' }"
  (onHide)="resetForm()">

  <form [formGroup]="form" (ngSubmit)="save()" class="add-gift-form">

    <!-- תיאור -->
    <div class="field">
      <label>תיאור</label>
      <textarea
        pInputTextarea
        rows="3"
        formControlName="description">
      </textarea>
    </div>

    <!-- מחיר -->
    <div class="field">
      <label>מחיר *</label>
      <input
        type="number"
        pInputText
        formControlName="price">

      <small class="error"
        *ngIf="form.get('price')?.touched && form.get('price')?.invalid">
        <span *ngIf="form.get('price')?.errors?.['required']">
          חובה להזין מחיר
        </span>
        <span *ngIf="form.get('price')?.errors?.['min']">
          המחיר חייב להיות גדול מ־0
        </span>
      </small>
    </div>

    <!-- קטגוריה -->
    <div class="field">
      <label>קטגוריה *</label>
      <input
        type="number"
        pInputText
        formControlName="categoryId">

      <small class="error"
        *ngIf="form.get('categoryId')?.touched && form.get('categoryId')?.invalid">
        חובה להזין קטגוריה
      </small>
    </div>

    <!-- תורם -->
    <div class="field">
      <label>תורם *</label>
      <input
        type="number"
        pInputText
        formControlName="donorId">

      <small class="error"
        *ngIf="form.get('donorId')?.touched && form.get('donorId')?.invalid">
        חובה להזין תורם
      </small>
    </div>

    <!-- תמונה -->
    <!-- <div class="field">
      <label>תמונה *</label>
      <input
        type="file"
        accept="image/*"
        (change)="onFileChange($event)">

      <small class="error"
        *ngIf="form.get('image')?.touched && form.get('image')?.invalid">
        חובה לבחור תמונה
      </small>
    </div> -->

    <!-- תצוגה מקדימה -->
    <!-- <div class="preview" *ngIf="previewUrl">
      <img [src]="previewUrl" alt="תצוגה מקדימה">
    </div> -->

    <!-- כפתורים -->
    <div class="actions">
      <p-button
        type="submit"
        label="שמור"
        [disabled]="form.invalid">
      </p-button>

      <p-button
        type="button"
        label="ביטול"
        severity="secondary"
        (onClick)="close()">
      </p-button>
    </div>

  </form>
</p-dialog>
