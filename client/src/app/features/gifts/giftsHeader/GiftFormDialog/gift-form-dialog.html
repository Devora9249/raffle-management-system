
<p-dialog
  header="{{ editMode ? 'Edit Gift' : 'Add Gift' }}"
  [(visible)]="showDialog"
  [modal]="true"
  [closable]="true"
  [style]="{ width: '420px' }">

  <form
    [formGroup]="form"
    (ngSubmit)="save()"
    class="add-gift-form">

    <!-- תיאור -->
    <div class="field">
      <label>description</label>
      <textarea
        pInputTextarea
        rows="3"
        formControlName="description">
      </textarea>
    </div>

    <!-- מחיר -->
    <div class="field">
      <label>price *</label>
      <input
        pInputText
        type="number"
        formControlName="price" />
    </div>

    <!-- קטגוריה -->
    <div class="field">
      <label>category *</label>
      <p-select
        formControlName="categoryId"
        [options]="categories"
        optionLabel="name"
        optionValue="id"
        placeholder="choose category"
        class="w-full">
      </p-select>
    </div>

    <!-- תורם -->
    <div class="field">
      <label>donor *</label>
      <p-select
        formControlName="donorId"
        [options]="donors"
        optionLabel="name"
        optionValue="id"
        placeholder="choose donor"
        class="w-full">
      </p-select>
    </div>

    <!-- תמונה -->
    <div class="field">
      <label>image</label>
      <p-fileUpload
        mode="basic"
        name="image"
        accept="image/*"
        chooseLabel="choose image"
        [auto]="false"
        [customUpload]="true"
        (onSelect)="onFileChange($event)">
      </p-fileUpload>
    </div>

    <!-- תצוגה מקדימה -->
    <div class="preview" *ngIf="previewUrl">
      <img [src]="previewUrl" alt="preview" />
    </div>

    <!-- כפתורים -->
    <div class="actions">
      <p-button
        type="submit"
        label="save"
        [disabled]="form.invalid">
      </p-button>

      <p-button
        type="button"
        label="cancel"
        severity="secondary"
        (onClick)="close()">
      </p-button>
    </div>

  </form>
</p-dialog>
